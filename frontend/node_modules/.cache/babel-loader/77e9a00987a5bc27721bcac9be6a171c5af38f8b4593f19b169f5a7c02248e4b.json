{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aliye\\\\OneDrive\\\\Masa\\xFCst\\xFC\\\\cinesatchel\\\\cinesatchel.com\\\\frontend\\\\src\\\\components\\\\navbar\\\\Navbar.jsx\",\n  _s = $RefreshSig$();\nimport \"./navbar.scss\";\nimport logo from \"../../utils/logo.png\";\nimport { useContext, useEffect, useState } from \"react\";\nimport SearchBar from \"../searchBar/SearchBar\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/authContext/AuthContext\";\nimport { logout } from \"../../context/authContext/AuthActions\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Navbar = () => {\n  _s();\n  const navigate = useNavigate();\n  const [isScrolled, setIsScrolled] = useState(false);\n  const {\n    dispatch\n  } = useContext(AuthContext);\n  const {\n    user\n  } = useContext(AuthContext);\n  const [profile, setProfile] = useState({});\n  window.onscroll = () => {\n    setIsScrolled(window.ScrollY === 0 ? false : true);\n    return () => window.onscroll = null;\n  };\n  const navigateToHome = () => {\n    navigate('/');\n  };\n  const navigateToMyLists = () => {\n    navigate('/myLists');\n  };\n  const navigateToAccountDetails = () => {\n    navigate('/accountDetails');\n  };\n  const navigateToProfiles = () => {\n    navigate('/profiles');\n  };\n  const handleLogout = async e => {\n    e.preventDefault();\n    try {\n      await axios.put(`api/users/${JSON.parse(localStorage.getItem(\"user\"))._id}/profiles`, {\n        selectedprofile: null\n      }, {\n        headers: {\n          token: \"Bearer \" + JSON.parse(localStorage.getItem(\"user\")).accessToken\n        }\n      });\n      dispatch(logout());\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  useEffect(() => {\n    if (JSON.parse(localStorage.getItem(\"user\")).selectedprofile !== null) {\n      const getProfile = async () => {\n        try {\n          const res = await axios.get(`api/users/find/${JSON.parse(localStorage.getItem(\"user\"))._id}/profiles/find/` + JSON.parse(localStorage.getItem(\"user\")).selectedprofile, {\n            headers: {\n              token: \"Bearer \" + JSON.parse(localStorage.getItem(\"user\")).accessToken\n            }\n          });\n          //console.log(profile)\n          setProfile(res.data);\n        } catch (err) {\n          console.log(err);\n        }\n      };\n      getProfile();\n    }\n  }, [user]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: isScrolled ? \"navbar scrolled\" : \"navbar\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"left\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: navigateToHome,\n        children: \"Homepage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Movies\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Series\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: navigateToMyLists,\n        children: \"My Lists\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right\",\n      children: [/*#__PURE__*/_jsxDEV(SearchBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"account\",\n        children: [user.isAdmin ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          children: profile.profilename\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"options\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: navigateToAccountDetails,\n            children: \"Account Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: navigateToProfiles,\n            children: \"Profiles\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: handleLogout,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_s(Navbar, \"8BrOcbV230YfN/v8GvT+jtTwlIU=\", false, function () {\n  return [useNavigate];\n});\n_c = Navbar;\nexport default Navbar;\nvar _c;\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"names":["logo","useContext","useEffect","useState","SearchBar","useNavigate","AuthContext","logout","axios","jsxDEV","_jsxDEV","Navbar","_s","navigate","isScrolled","setIsScrolled","dispatch","user","profile","setProfile","window","onscroll","ScrollY","navigateToHome","navigateToMyLists","navigateToAccountDetails","navigateToProfiles","handleLogout","e","preventDefault","put","JSON","parse","localStorage","getItem","_id","selectedprofile","headers","token","accessToken","err","console","log","getProfile","res","get","data","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","isAdmin","profilename","_c","$RefreshReg$"],"sources":["C:/Users/aliye/OneDrive/Masaüstü/cinesatchel/cinesatchel.com/frontend/src/components/navbar/Navbar.jsx"],"sourcesContent":["import \"./navbar.scss\"\r\nimport logo from \"../../utils/logo.png\"\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport SearchBar from \"../searchBar/SearchBar\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/authContext/AuthContext\";\r\nimport { logout } from \"../../context/authContext/AuthActions\";\r\nimport axios from \"axios\";\r\n\r\nconst Navbar = () => {\r\n    const navigate = useNavigate();\r\n    const [isScrolled, setIsScrolled] = useState(false);\r\n    const { dispatch } = useContext(AuthContext);\r\n    const { user } = useContext(AuthContext);\r\n    const [profile, setProfile] = useState({});\r\n \r\n    window.onscroll = () => {\r\n        setIsScrolled(window.ScrollY === 0 ? false : true);\r\n        return () => (window.onscroll = null);\r\n    };\r\n\r\n    const navigateToHome = () => {\r\n        navigate('/')\r\n    }\r\n    const navigateToMyLists = () => {\r\n        navigate('/myLists')\r\n    }\r\n    const navigateToAccountDetails = () => {\r\n        navigate('/accountDetails')\r\n    }\r\n    const navigateToProfiles = () => {\r\n        navigate('/profiles')\r\n    }\r\n    const handleLogout = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            await axios.put(`api/users/${JSON.parse(localStorage.getItem(\"user\"))._id}/profiles`, { selectedprofile: null }, {\r\n              headers: { \r\n                token: \"Bearer \"+JSON.parse(localStorage.getItem(\"user\")).accessToken, \r\n              }\r\n            });\r\n            dispatch(logout());\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    \r\n    useEffect(() => {\r\n        if (JSON.parse(localStorage.getItem(\"user\")).selectedprofile !== null) {\r\n            const getProfile = async () => {\r\n            try {\r\n                const res = await axios.get(`api/users/find/${JSON.parse(localStorage.getItem(\"user\"))._id}/profiles/find/` + JSON.parse(localStorage.getItem(\"user\")).selectedprofile, {\r\n                headers: { \r\n                    token: \"Bearer \"+JSON.parse(localStorage.getItem(\"user\")).accessToken, \r\n                }\r\n                });\r\n                //console.log(profile)\r\n                setProfile(res.data);\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n            };\r\n            getProfile();\r\n        }\r\n    }, [user]);\r\n\r\n  return (\r\n    <div className={isScrolled ? \"navbar scrolled\" : \"navbar\"}>\r\n        <div className=\"left\">\r\n            <img\r\n                src={logo}\r\n                alt=\"\"\r\n            />\r\n            <span onClick={navigateToHome}>Homepage</span>\r\n            <span>Movies</span>\r\n            <span>Series</span>\r\n            <span onClick={navigateToMyLists}>My Lists</span>\r\n        </div>\r\n        <div className=\"right\">\r\n            <SearchBar />\r\n            <div className=\"account\">\r\n                {user.isAdmin ? (\r\n                    <span>Admin</span>\r\n                ) : (\r\n                    <span>{profile.profilename}</span>\r\n                )}\r\n                <div className=\"options\">\r\n                    <span onClick={navigateToAccountDetails}>Account Details</span>\r\n                    <span onClick={navigateToProfiles}>Profiles</span>\r\n                    <span onClick={handleLogout}>Logout</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Navbar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}