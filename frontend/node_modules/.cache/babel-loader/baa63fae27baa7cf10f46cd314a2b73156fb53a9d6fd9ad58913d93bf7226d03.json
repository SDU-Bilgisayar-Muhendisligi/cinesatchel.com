{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aliye\\\\OneDrive\\\\Masa\\xFCst\\xFC\\\\cinesatchel\\\\cinesatchel.com\\\\frontend\\\\src\\\\pages\\\\profiles\\\\Profiles.jsx\",\n  _s = $RefreshSig$();\nimport { Loupe } from \"@mui/icons-material\";\nimport ProfileCard from \"../../components/profileCard/ProfileCard\";\nimport \"./profiles.scss\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profiles = () => {\n  _s();\n  const [modal, setModal] = useState(false);\n  const [profileList, setProfileList] = useState([]);\n  const [newProfile, setNewProfile] = useState({});\n  const [count, setCount] = useState(0);\n  const userId = JSON.parse(localStorage.getItem(\"user\"))._id;\n  const toggleModal = () => {\n    setModal(!modal);\n  };\n  if (modal) {\n    document.body.classList.add('active-modal');\n  } else {\n    document.body.classList.remove('active-modal');\n  }\n  const handleChange = e => {\n    const value = e.target.value;\n    setNewProfile({\n      ...newProfile,\n      [e.target.name]: value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      await axios.post(`api/users/${userId}/profiles`, newProfile, {\n        headers: {\n          token: \"Bearer \" + JSON.parse(localStorage.getItem(\"user\")).accessToken\n        }\n      });\n      window.location.reload(false);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  useEffect(() => {\n    const getProfileList = async () => {\n      try {\n        const res = await axios.get(`api/users/${userId}/profiles`, {\n          headers: {\n            token: \"Bearer \" + JSON.parse(localStorage.getItem(\"user\")).accessToken\n          }\n        });\n        //console.log(res);\n        setProfileList(res.data);\n        setCount(res.data.length);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getProfileList();\n  }, [userId]);\n\n  //console.log(newProfile);\n  //console.log(count);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profiles\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [profileList.map((profile, index) => /*#__PURE__*/_jsxDEV(ProfileCard, {\n        item: profile\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)), count <= 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"addProfile\",\n        onClick: toggleModal,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"New Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Loupe, {\n          className: \"profileIcon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), modal && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overlay\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modalContent\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"closeModal\",\n              onClick: toggleModal,\n              children: \"X\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"profileLabel\",\n              children: \"New Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"profileFormInfo\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Profile Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"profilename\",\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSubmit,\n                children: \"Create Profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(Profiles, \"UumwM/9esady5lQJScCkmGnJ6aM=\");\n_c = Profiles;\nexport default Profiles;\nvar _c;\n$RefreshReg$(_c, \"Profiles\");","map":{"version":3,"names":["Loupe","ProfileCard","useEffect","useState","axios","jsxDEV","_jsxDEV","Profiles","_s","modal","setModal","profileList","setProfileList","newProfile","setNewProfile","count","setCount","userId","JSON","parse","localStorage","getItem","_id","toggleModal","document","body","classList","add","remove","handleChange","e","value","target","name","handleSubmit","preventDefault","post","headers","token","accessToken","window","location","reload","err","console","log","getProfileList","res","get","data","length","className","children","map","profile","index","item","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","onChange","_c","$RefreshReg$"],"sources":["C:/Users/aliye/OneDrive/Masaüstü/cinesatchel/cinesatchel.com/frontend/src/pages/profiles/Profiles.jsx"],"sourcesContent":["import { Loupe } from \"@mui/icons-material\";\r\nimport ProfileCard from \"../../components/profileCard/ProfileCard\";\r\nimport \"./profiles.scss\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst Profiles = () => {\r\n  const [modal, setModal] = useState(false);\r\n  const [profileList, setProfileList] = useState([]);\r\n  const [newProfile, setNewProfile] = useState({});\r\n  const [count, setCount] = useState(0);\r\n  const userId = JSON.parse(localStorage.getItem(\"user\"))._id;\r\n\r\n  const toggleModal = () => {\r\n    setModal(!modal);\r\n  }\r\n\r\n  if(modal) {\r\n    document.body.classList.add('active-modal')\r\n  } else {\r\n    document.body.classList.remove('active-modal')\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    const value = e.target.value;\r\n    setNewProfile({ ...newProfile, [e.target.name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post(`api/users/${userId}/profiles`, newProfile, {\r\n        headers: { \r\n          token: \"Bearer \"+JSON.parse(localStorage.getItem(\"user\")).accessToken, \r\n        }\r\n      });\r\n      window.location.reload(false);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getProfileList = async () => {\r\n      try {\r\n        const res = await axios.get(`api/users/${userId}/profiles`, {\r\n          headers: { \r\n            token: \"Bearer \"+JSON.parse(localStorage.getItem(\"user\")).accessToken, \r\n          }\r\n        });\r\n        //console.log(res);\r\n        setProfileList(res.data);\r\n        setCount(res.data.length);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getProfileList();\r\n  },[userId]);\r\n\r\n  //console.log(newProfile);\r\n  //console.log(count);\r\n\r\n  return (\r\n    <div className=\"profiles\">\r\n      <div className=\"container\">\r\n        {profileList.map((profile, index) => (\r\n          <ProfileCard item={profile} key={index} />\r\n        ))}\r\n        {count <= 3 && (\r\n          <div className=\"addProfile\" onClick={toggleModal}>\r\n            <label>New Profile</label>\r\n            <Loupe className=\"profileIcon\" />\r\n          </div>\r\n        )}\r\n        {modal && (\r\n            <div className=\"modal\">\r\n              <div className=\"overlay\">\r\n                <div className=\"modalContent\">\r\n                  <button className=\"closeModal\" onClick={toggleModal}>X</button>\r\n                  <h2 className=\"profileLabel\">New Profile</h2>\r\n                  <form className=\"profileFormInfo\">\r\n                    <label>Profile Name</label>\r\n                    <input type=\"text\" name=\"profilename\" onChange={handleChange}></input>\r\n                    <button onClick={handleSubmit}>Create Profile</button>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profiles;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}