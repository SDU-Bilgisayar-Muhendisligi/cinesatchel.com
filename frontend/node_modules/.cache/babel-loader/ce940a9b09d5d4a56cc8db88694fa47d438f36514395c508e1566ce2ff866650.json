{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aliye\\\\OneDrive\\\\Masa\\xFCst\\xFC\\\\cinesatchel\\\\cinesatchel.com\\\\frontend\\\\src\\\\components\\\\profileCard\\\\ProfileCard.jsx\",\n  _s = $RefreshSig$();\nimport { PersonPin, RemoveCircleOutline } from \"@mui/icons-material\";\nimport \"./profileCard.scss\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProfileCard(_ref) {\n  _s();\n  let {\n    item,\n    index\n  } = _ref;\n  const navigate = useNavigate();\n  const navigateToHome = () => {\n    navigate('/');\n  };\n  const [profile, setProfile] = useState({});\n  const userId = JSON.parse(localStorage.getItem(\"user\"))._id;\n  const [open, setOpen] = useState(false);\n  useEffect(() => {\n    const getProfile = async () => {\n      try {\n        const res = await axios.get(`api/users/find/${userId}/profiles/find/` + item, {\n          headers: {\n            token: \"Bearer \" + JSON.parse(localStorage.getItem(\"user\")).accessToken\n          }\n        });\n        //console.log(res)\n        setProfile(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getProfile();\n  }, [userId, item]);\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const handleSelect = async e => {\n    e.preventDefault();\n    try {\n      await axios.put(`api/users/${userId}/profiles/`, {\n        selectedprofile: profile._id\n      }, {\n        headers: {\n          token: \"Bearer \" + JSON.parse(localStorage.getItem(\"user\")).accessToken\n        }\n      });\n      let localUser = JSON.parse(localStorage.getItem(\"user\"));\n      localUser.selectedprofile = profile._id;\n      localStorage.setItem(\"user\", JSON.stringify(localUser));\n      navigateToHome();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  const handleDelete = async e => {\n    e.preventDefault();\n    try {\n      await axios.delete(`api/users/${userId}/profiles/` + item, {\n        headers: {\n          token: \"Bearer \" + JSON.parse(localStorage.getItem(\"user\")).accessToken\n        }\n      });\n      window.location.reload(false);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profileCard\",\n    children: [/*#__PURE__*/_jsxDEV(RemoveCircleOutline, {\n      className: \"deleteIcon\",\n      onClick: handleClickOpen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profileBox\",\n      onClick: handleSelect,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: profile.profilename\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PersonPin, {\n        className: \"profileIcon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Dialog, {\n        open: open,\n        onClose: handleDelete,\n        \"aria-labelledby\": \"alert-dialog-title\",\n        \"aria-describedby\": \"alert-dialog-description\",\n        sx: {\n          color: 'black'\n        },\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          id: \"alert-dialog-title\",\n          sx: {\n            background: 'black',\n            color: 'white'\n          },\n          children: \"Delete Confirmation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          sx: {\n            background: 'black'\n          },\n          children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n            id: \"alert-dialog-description\",\n            sx: {\n              color: 'white'\n            },\n            children: [\"Are you sure you want to delete \\\"\", profile.profilename, \"\\\"?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          sx: {\n            background: 'black'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleClose,\n            sx: {\n              color: 'white'\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleDelete,\n            sx: {\n              color: 'red'\n            },\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n}\n_s(ProfileCard, \"U6FBvmnaTOkqAZLd676jhOj4498=\", false, function () {\n  return [useNavigate];\n});\n_c = ProfileCard;\nvar _c;\n$RefreshReg$(_c, \"ProfileCard\");","map":{"version":3,"names":["PersonPin","RemoveCircleOutline","useNavigate","useEffect","useState","axios","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","jsxDEV","_jsxDEV","ProfileCard","_ref","_s","item","index","navigate","navigateToHome","profile","setProfile","userId","JSON","parse","localStorage","getItem","_id","open","setOpen","getProfile","res","get","headers","token","accessToken","data","err","console","log","handleClickOpen","handleClose","handleSelect","e","preventDefault","put","selectedprofile","localUser","setItem","stringify","handleDelete","delete","window","location","reload","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","profilename","onClose","sx","color","id","background","_c","$RefreshReg$"],"sources":["C:/Users/aliye/OneDrive/Masaüstü/cinesatchel/cinesatchel.com/frontend/src/components/profileCard/ProfileCard.jsx"],"sourcesContent":["import { PersonPin, RemoveCircleOutline } from \"@mui/icons-material\"\r\nimport \"./profileCard.scss\"\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nexport default function ProfileCard({ item, index}) {\r\n  const navigate = useNavigate();\r\n  const navigateToHome = () => {\r\n    navigate('/')\r\n  }\r\n  const [profile, setProfile] = useState({});\r\n  const userId = JSON.parse(localStorage.getItem(\"user\"))._id;\r\n  const [open, setOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const getProfile = async () => {\r\n      try {\r\n        const res = await axios.get(`api/users/find/${userId}/profiles/find/` + item, {\r\n          headers: { \r\n            token: \"Bearer \"+JSON.parse(localStorage.getItem(\"user\")).accessToken, \r\n          }\r\n        });\r\n        //console.log(res)\r\n        setProfile(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getProfile();\r\n  }, [userId, item]);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleSelect = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.put(`api/users/${userId}/profiles/`, { selectedprofile: profile._id }, {\r\n        headers: { \r\n          token: \"Bearer \"+JSON.parse(localStorage.getItem(\"user\")).accessToken, \r\n        }\r\n      });\r\n      let localUser = JSON.parse(localStorage.getItem(\"user\"));\r\n      localUser.selectedprofile = profile._id;\r\n      localStorage.setItem(\"user\", JSON.stringify(localUser));\r\n      navigateToHome();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.delete(`api/users/${userId}/profiles/` + item, {\r\n        headers: { \r\n          token: \"Bearer \"+JSON.parse(localStorage.getItem(\"user\")).accessToken, \r\n        }\r\n      });\r\n      window.location.reload(false);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"profileCard\">\r\n      <RemoveCircleOutline className=\"deleteIcon\" onClick={handleClickOpen} />\r\n      <div className=\"profileBox\" onClick={handleSelect}>\r\n        <label>{profile.profilename}</label>\r\n        <PersonPin className=\"profileIcon\" />\r\n      </div>\r\n      <div>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleDelete}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n        sx={{\r\n          \r\n          color: 'black'\r\n        }}\r\n      >\r\n        <DialogTitle \r\n          id=\"alert-dialog-title\"\r\n          sx={{\r\n            background: 'black',\r\n            color: 'white'\r\n          }}\r\n        >\r\n          {\"Delete Confirmation\"}\r\n        </DialogTitle>\r\n        <DialogContent\r\n          sx={{\r\n            background: 'black',\r\n          }}\r\n        >\r\n          <DialogContentText \r\n            id=\"alert-dialog-description\"\r\n            sx={{\r\n              color: 'white'\r\n            }}\r\n          >\r\n            Are you sure you want to delete \"{profile.profilename}\"?\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions\r\n          sx={{\r\n            background: 'black'\r\n          }}\r\n        >\r\n          <Button \r\n            onClick={handleClose} \r\n            sx={{\r\n              color: 'white'\r\n            }}\r\n          >Cancel</Button>\r\n          <Button \r\n            onClick={handleDelete}\r\n            sx={{\r\n              color: 'red'\r\n            }}\r\n          >Delete</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}